<view class="page form_page js_show" data-weui-theme="{{theme}}">
    <view class="page__bd">
        <view class="weui-form">
            <!--      <view class="weui-form__control-area">-->
            <view class="">
                <view class="weui-cells__group weui-cells__group_form">
                    <view class="weui-cells__title">挂号</view>
                    <view class="weui-cells weui-cells_form">
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">姓名</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" value="{{user_name}}" bindinput="handleUsername"
                                       placeholder="填写姓名"/>
                            </view>
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">身份证号</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input value="{{id_card}}" bindinput="handleIdCard" class="weui-input"
                                       placeholder="填写身份证号"/>
                            </view>
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">联系电话</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input value="{{tel}}" bindinput="handleTel" class="weui-input" placeholder="填写联系电话"
                                       type="number"
                                       pattern="[0-9]*"/>
                            </view>
                        </view>

                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">医生</label>
                            </view>
                            <view class="weui-cell__bd">
                                <picker range="{{doctors}}" range-key="name" value="{{doctor_index}}"
                                        bindchange="handleDoctor"
                                >
                                    {{doctors[doctor_index].name}}
                                </picker>
                            </view>
                        </view>

                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">科室</label>
                            </view>
                            <view class="weui-cell__bd">
                                <picker range="{{units}}" range-key="name" value="{{unit_code_index}}"
                                        bindchange="handleUnitCode">
                                    {{units[unit_code_index].name}}
                                </picker>
                            </view>
                        </view>

                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">日期</label>
                            </view>
                            <view class="weui-cell__bd">
                                <picker mode="date" value="{{requestDay}}" bindchange="handleRequestDay">
                                    {{requestDay}}
                                </picker>
                            </view>
                        </view>
                    </view>
                </view>
            </view>
            <view>
                <button class="weui-btn" type="primary" bindtap="search">查询</button>
            </view>

        </view>

        <view wx:if="{{list && list.length>0}}">
            <view class="weui-cells weui-cells_after-title">
                <view wx:for="{{list}}"
                      wx:key="startTime"
                      data-item="{{item}}"
                      bindtap="navigateToFinishOrder"
                      class="weui-cell weui-cell_access"
                      hover-class="weui-cell_active">
                    <view class="weui-cell__bd">{{item.startTime}} - {{item.endTime}}</view>
                    <view class="weui-cell__ft weui-cell__ft_in-access">{{item.leftNum}} / {{item.totalNum}}</view>
                </view>
            </view>
        </view>

        <view wx:elif="{{list && list.length <= 0}}" class="weui-cells weui-cells_after-title">
            <view class="weui-cell">
                <view class="weui-cell__bd no-msg">暂无排班信息</view>
                <!-- <view class="weui-cell__ft">说明文字</view> -->
            </view>
        </view>

    </view>
</view>
